<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-Utveckling: En Tidslinje 1956-2025</title>
    <link rel="stylesheet" href="../shared/demos-common.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <style>
        body {
            min-height: 100vh;
            padding: 2rem;
        }

        header {
            text-align: center;
            margin-bottom: 3rem;
        }

        h1 {
            font-size: 2.5rem;
            color: var(--color-accent);
            margin-bottom: 0.5rem;
        }

        .subtitle {
            color: var(--color-text-secondary);
            font-size: 1.1rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 1.5rem;
            text-align: center;
            backdrop-filter: blur(10px);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 40px rgba(123, 163, 176, 0.2);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .stat-card:nth-child(1) .stat-value { color: var(--color-chart-1); }
        .stat-card:nth-child(2) .stat-value { color: var(--color-chart-2); }
        .stat-card:nth-child(3) .stat-value { color: var(--color-chart-3); }
        .stat-card:nth-child(4) .stat-value { color: var(--color-chart-5); }

        .stat-label {
            color: var(--color-text-secondary);
            font-size: 0.9rem;
        }

        /* Controls */
        .controls {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            align-items: center;
        }

        .btn-group {
            display: flex;
            gap: 0.5rem;
        }

        .btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #e0e0e0;
            padding: 0.6rem 1.2rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
        }

        .btn:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }

        .btn.active {
            background: linear-gradient(135deg, rgba(123, 163, 176, 0.3), rgba(168, 156, 200, 0.3));
            border-color: var(--color-chart-1);
        }

        .search-box {
            flex: 1;
            min-width: 200px;
        }

        .search-box input {
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #e0e0e0;
            padding: 0.6rem 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
        }

        .search-box input::placeholder {
            color: var(--color-text-secondary);
        }

        /* Timeline Section */
        .timeline-section {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .timeline-header {
            margin-bottom: 2rem;
        }

        .timeline-title {
            font-size: 1.4rem;
            margin-bottom: 0.5rem;
            color: #fff;
        }

        .timeline-description {
            color: var(--color-text-secondary);
            font-size: 0.95rem;
        }

        .timeline-container {
            position: relative;
            min-height: 500px;
            overflow-x: auto;
            padding: 1rem 0;
        }

        .timeline-year-labels {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            padding: 0 1rem;
        }

        .year-label {
            font-size: 0.85rem;
            color: var(--color-chart-1);
            font-weight: 600;
        }

        .lane {
            position: relative;
            height: 100px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 1.5rem;
            padding: 0 1rem;
        }

        .lane-label {
            position: absolute;
            left: 0;
            top: 0;
            font-size: 0.85rem;
            font-weight: 600;
            padding: 0.3rem 0.8rem;
            border-radius: 6px;
            background: rgba(255, 255, 255, 0.1);
        }

        .lane[data-category="research"] .lane-label { color: var(--color-chart-1); border: 1px solid var(--color-chart-1); }
        .lane[data-category="products"] .lane-label { color: var(--color-chart-2); border: 1px solid var(--color-chart-2); }
        .lane[data-category="benchmarks"] .lane-label { color: var(--color-chart-3); border: 1px solid var(--color-chart-3); }
        .lane[data-category="tools"] .lane-label { color: var(--color-chart-5); border: 1px solid var(--color-chart-5); }

        .lane.hidden {
            display: none;
        }

        .event-marker {
            position: absolute;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s;
            top: 40px;
            transform: translateX(-8px);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .event-marker:hover {
            width: 24px;
            height: 24px;
            transform: translateX(-12px) translateY(-4px);
            box-shadow: 0 0 20px currentColor;
        }

        .event-marker[data-category="research"] { background-color: var(--color-chart-1); }
        .event-marker[data-category="products"] { background-color: var(--color-chart-2); }
        .event-marker[data-category="benchmarks"] { background-color: var(--color-chart-3); }
        .event-marker[data-category="tools"] { background-color: var(--color-chart-5); }

        .event-label {
            position: absolute;
            top: 60px;
            font-size: 0.75rem;
            color: #c0c0d0;
            white-space: nowrap;
            transform: translateX(-50%);
            pointer-events: none;
            max-width: 120px;
            text-align: center;
            line-height: 1.2;
        }

        /* Charts Section */
        .charts-section {
            margin-bottom: 2rem;
        }

        .chart-section {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .chart-title {
            font-size: 1.4rem;
            margin-bottom: 0.5rem;
            color: #fff;
        }

        .chart-description {
            color: var(--color-text-secondary);
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
        }

        .chart-container {
            position: relative;
            height: 400px;
        }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }

        .modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2rem;
            max-width: 700px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: #e0e0e0;
            font-size: 1.5rem;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
        }

        .modal-title {
            font-size: 1.8rem;
            margin-bottom: 1rem;
            padding-right: 3rem;
        }

        .modal-meta {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        .meta-label {
            color: var(--color-text-secondary);
        }

        .meta-value {
            color: var(--color-chart-1);
            font-weight: 600;
        }

        .modal-section {
            margin-bottom: 1.5rem;
        }

        .modal-section-title {
            font-size: 1.1rem;
            margin-bottom: 0.8rem;
            color: var(--color-chart-1);
        }

        .modal-section-content {
            color: #c0c0d0;
            line-height: 1.6;
        }

        .modal-sources {
            list-style: none;
        }

        .modal-sources li {
            margin-bottom: 0.8rem;
        }

        .modal-sources a {
            color: var(--color-chart-1);
            text-decoration: none;
            transition: color 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .modal-sources a:hover {
            color: var(--color-chart-2);
        }

        .modal-tags {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .tag {
            background: rgba(123, 163, 176, 0.2);
            border: 1px solid rgba(123, 163, 176, 0.4);
            color: var(--color-chart-1);
            padding: 0.3rem 0.8rem;
            border-radius: 12px;
            font-size: 0.85rem;
        }

        .related-events {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .related-event-link {
            background: rgba(168, 156, 200, 0.2);
            border: 1px solid rgba(168, 156, 200, 0.4);
            color: var(--color-chart-2);
            padding: 0.3rem 0.8rem;
            border-radius: 8px;
            font-size: 0.85rem;
            text-decoration: none;
            transition: all 0.3s;
            cursor: pointer;
        }

        .related-event-link:hover {
            background: rgba(168, 156, 200, 0.3);
            transform: translateY(-2px);
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8rem;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .controls {
                flex-direction: column;
                align-items: stretch;
            }

            .btn-group {
                flex-wrap: wrap;
            }

            .lane {
                height: auto;
                padding: 2.5rem 1rem 1rem;
            }

            .lane-label {
                position: static;
                display: inline-block;
                margin-bottom: 0.5rem;
            }

            .event-marker {
                position: relative;
                display: inline-block;
                margin: 0.3rem;
                top: auto;
                transform: none;
            }

            .event-marker:hover {
                transform: scale(1.2);
            }

            .event-label {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>AI-Utveckling: En Tidslinje 1956-2025</h1>
            <p class="subtitle">Fr친n Dartmouth till Reasoning Models</p>
        </header>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value" id="stat-total">0</div>
                <div class="stat-label">Totala h칛ndelser</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="stat-research">0</div>
                <div class="stat-label">Forskningsgenombrott</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="stat-products">0</div>
                <div class="stat-label">Produkter/Appar</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="stat-tools">0</div>
                <div class="stat-label">Verktyg/Standarder</div>
            </div>
        </div>

        <div class="controls">
            <div class="btn-group">
                <button class="btn active" data-zoom="modern" onclick="setZoomMode('modern')">
                    Modern AI (2017-2025)
                </button>
                <button class="btn" data-zoom="full" onclick="setZoomMode('full')">
                    Full Historia (1956-2025)
                </button>
            </div>
            <div class="btn-group">
                <button class="btn active" data-category="research" onclick="toggleCategory('research')">
                    Forskning
                </button>
                <button class="btn active" data-category="products" onclick="toggleCategory('products')">
                    Produkter
                </button>
                <button class="btn active" data-category="benchmarks" onclick="toggleCategory('benchmarks')">
                    Benchmarks
                </button>
                <button class="btn active" data-category="tools" onclick="toggleCategory('tools')">
                    Verktyg
                </button>
            </div>
            <div class="search-box">
                <input type="text" placeholder="S칬k h칛ndelser..." oninput="filterBySearch(this.value)">
            </div>
        </div>

        <div class="timeline-section">
            <div class="timeline-header">
                <h2 class="timeline-title">AI-h칛ndelser tidslinje</h2>
                <p class="timeline-description">Klicka p친 en h칛ndelse f칬r att se detaljer och k칛llor</p>
            </div>

            <div class="timeline-year-labels" id="year-labels"></div>

            <div class="timeline-container" id="timeline-container">
                <div class="lane" data-category="research">
                    <div class="lane-label">Forskningsgenombrott</div>
                </div>
                <div class="lane" data-category="products">
                    <div class="lane-label">Produkter/Appar</div>
                </div>
                <div class="lane" data-category="benchmarks">
                    <div class="lane-label">Benchmarks</div>
                </div>
                <div class="lane" data-category="tools">
                    <div class="lane-label">Verktyg/Standarder</div>
                </div>
            </div>
        </div>

        <div class="charts-section">
            <div class="chart-section">
                <h2 class="chart-title">ImageNet Top-5 Error (2010-2017)</h2>
                <p class="chart-description">Deep learning-revolution i datorseende - fel-rate minskade fr친n 28% till 2%</p>
                <div class="chart-container">
                    <canvas id="imagenet-chart"></canvas>
                </div>
            </div>

            <div class="chart-section">
                <h2 class="chart-title">MMLU Progress (2020-2025)</h2>
                <p class="chart-description">Spr친kmodellers kunskaper 칬ver 57 칛mnesomr친den - fr친n 44% till 칬ver 90%</p>
                <div class="chart-container">
                    <canvas id="mmlu-chart"></canvas>
                </div>
            </div>

            <div class="chart-section">
                <h2 class="chart-title">HumanEval Kodning (2021-2025)</h2>
                <p class="chart-description">AI-kodningskapacitet - fr친n 29% till 칬ver 96% korrekta l칬sningar</p>
                <div class="chart-container">
                    <canvas id="humaneval-chart"></canvas>
                </div>
            </div>

            <div class="chart-section">
                <h2 class="chart-title">ArcAGI Reasoning (2024-2025)</h2>
                <p class="chart-description">Abstrakt reasoning-genombrott - fr친n 5% till 76% p친 ett 친r</p>
                <div class="chart-container">
                    <canvas id="arcagi-chart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal-overlay" id="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">칑</button>
            <div id="modal-body"></div>
        </div>
    </div>

    <script>
        // Data Loader
        const DataLoader = {
            data: null,

            async load() {
                try {
                    const response = await fetch('data/timeline-data.json');
                    if (!response.ok) throw new Error('Failed to load data');
                    this.data = await response.json();
                    return this.data;
                } catch (error) {
                    console.error('Error loading data:', error);
                    alert('Kunde inte ladda tidslinjedata. Kontrollera att data/timeline-data.json finns.');
                    return null;
                }
            },

            getCategory(categoryId) {
                return this.data.categories.find(c => c.id === categoryId);
            },

            getEvent(eventId) {
                return this.data.events.find(e => e.id === eventId);
            }
        };

        // State
        let zoomMode = 'modern';
        let visibleCategories = new Set(['research', 'products', 'benchmarks', 'tools']);

        // Initialize
        async function init() {
            const data = await DataLoader.load();
            if (!data) return;

            updateStats();
            renderTimeline();
            renderCharts();
        }

        // Update stats
        function updateStats() {
            const events = DataLoader.data.events;
            document.getElementById('stat-total').textContent = events.length;
            document.getElementById('stat-research').textContent =
                events.filter(e => e.category === 'research').length;
            document.getElementById('stat-products').textContent =
                events.filter(e => e.category === 'products').length;
            document.getElementById('stat-tools').textContent =
                events.filter(e => e.category === 'tools' || e.category === 'benchmarks').length;
        }

        // Render timeline
        function renderTimeline() {
            const events = DataLoader.data.events;

            // Determine date range
            const startDate = zoomMode === 'modern'
                ? new Date('2017-01-01')
                : new Date('1956-01-01');
            const endDate = new Date('2025-12-31');

            // Clear existing markers
            document.querySelectorAll('.event-marker, .event-label').forEach(el => el.remove());

            // Render year labels
            renderYearLabels(startDate, endDate);

            // Render events
            events.forEach(event => {
                const eventDate = new Date(event.date);
                if (eventDate < startDate || eventDate > endDate) return;

                const position = calculatePosition(eventDate, startDate, endDate);
                const lane = document.querySelector(`.lane[data-category="${event.category}"]`);
                if (!lane) return;

                const marker = createEventMarker(event, position);
                lane.appendChild(marker);

                // Add label for desktop
                if (window.innerWidth > 768) {
                    const label = createEventLabel(event, position);
                    lane.appendChild(label);
                }
            });
        }

        function renderYearLabels(startDate, endDate) {
            const yearLabelsContainer = document.getElementById('year-labels');
            yearLabelsContainer.innerHTML = '';

            const startYear = startDate.getFullYear();
            const endYear = endDate.getFullYear();
            const years = zoomMode === 'modern'
                ? [2017, 2019, 2020, 2022, 2023, 2024, 2025]
                : [1956, 1980, 2000, 2010, 2017, 2020, 2023, 2025];

            years.forEach(year => {
                const label = document.createElement('div');
                label.className = 'year-label';
                label.textContent = year;
                yearLabelsContainer.appendChild(label);
            });
        }

        function calculatePosition(date, startDate, endDate) {
            const totalMs = endDate - startDate;
            const offsetMs = date - startDate;
            return (offsetMs / totalMs) * 100;
        }

        function createEventMarker(event, position) {
            const marker = document.createElement('div');
            marker.className = 'event-marker';
            marker.dataset.category = event.category;
            marker.dataset.eventId = event.id;
            marker.style.left = `${position}%`;
            marker.addEventListener('click', () => openModal(event));
            return marker;
        }

        function createEventLabel(event, position) {
            const label = document.createElement('div');
            label.className = 'event-label';
            label.textContent = event.title;
            label.style.left = `${position}%`;
            return label;
        }

        // Zoom and filter
        function setZoomMode(mode) {
            zoomMode = mode;
            document.querySelectorAll('[data-zoom]').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.zoom === mode);
            });
            renderTimeline();
        }

        function toggleCategory(categoryId) {
            if (visibleCategories.has(categoryId)) {
                visibleCategories.delete(categoryId);
            } else {
                visibleCategories.add(categoryId);
            }

            const lane = document.querySelector(`.lane[data-category="${categoryId}"]`);
            lane.classList.toggle('hidden');

            const btn = document.querySelector(`[data-category="${categoryId}"]`);
            btn.classList.toggle('active');
        }

        function filterBySearch(query) {
            const markers = document.querySelectorAll('.event-marker');
            const lowerQuery = query.toLowerCase();

            markers.forEach(marker => {
                const event = DataLoader.getEvent(marker.dataset.eventId);
                const matches = !query ||
                    event.title.toLowerCase().includes(lowerQuery) ||
                    event.shortDesc.toLowerCase().includes(lowerQuery) ||
                    event.detailedDesc.toLowerCase().includes(lowerQuery);

                marker.style.display = matches ? 'block' : 'none';
            });
        }

        // Modal
        function openModal(event) {
            const modal = document.getElementById('modal');
            const modalBody = document.getElementById('modal-body');

            modalBody.innerHTML = `
                <h2 class="modal-title">${event.title}</h2>
                <div class="modal-meta">
                    <div class="meta-item">
                        <span class="meta-label">Datum:</span>
                        <span class="meta-value">${event.dateDisplay}</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-label">Kategori:</span>
                        <span class="meta-value">${DataLoader.getCategory(event.category).label}</span>
                    </div>
                </div>

                <div class="modal-section">
                    <div class="modal-section-title">Beskrivning</div>
                    <div class="modal-section-content">${event.detailedDesc}</div>
                </div>

                <div class="modal-section">
                    <div class="modal-section-title">Betydelse</div>
                    <div class="modal-section-content">${event.significance}</div>
                </div>

                ${event.keyPeople && event.keyPeople.length > 0 ? `
                <div class="modal-section">
                    <div class="modal-section-title">Nyckelakt칬rer</div>
                    <div class="modal-section-content">${event.keyPeople.join(', ')}</div>
                </div>
                ` : ''}

                ${event.tags && event.tags.length > 0 ? `
                <div class="modal-section">
                    <div class="modal-section-title">Taggar</div>
                    <div class="modal-tags">
                        ${event.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                    </div>
                </div>
                ` : ''}

                ${event.relatedEvents && event.relatedEvents.length > 0 ? `
                <div class="modal-section">
                    <div class="modal-section-title">Relaterade h칛ndelser</div>
                    <div class="related-events">
                        ${event.relatedEvents.map(relId => {
                            const relEvent = DataLoader.getEvent(relId);
                            return relEvent ? `
                                <a href="#" class="related-event-link" onclick="openRelatedEvent('${relId}'); return false;">
                                    ${relEvent.title}
                                </a>
                            ` : '';
                        }).join('')}
                    </div>
                </div>
                ` : ''}

                <div class="modal-section">
                    <div class="modal-section-title">K칛llor</div>
                    <ul class="modal-sources">
                        ${event.sources.map(source => `
                            <li>
                                <a href="${source.url}" target="_blank" rel="noopener noreferrer">
                                    游늯 ${source.title}
                                </a>
                            </li>
                        `).join('')}
                    </ul>
                </div>
            `;

            modal.style.display = 'flex';
        }

        function openRelatedEvent(eventId) {
            const event = DataLoader.getEvent(eventId);
            if (event) openModal(event);
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }

        // Close modal on escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeModal();
        });

        // Close modal on overlay click
        document.getElementById('modal').addEventListener('click', (e) => {
            if (e.target.id === 'modal') closeModal();
        });

        // Charts
        function renderCharts() {
            const benchmarks = DataLoader.data.benchmarks;

            benchmarks.forEach(benchmark => {
                const canvas = document.getElementById(`${benchmark.id}-chart`);
                if (!canvas) return;

                createBenchmarkChart(canvas, benchmark);
            });
        }

        function createBenchmarkChart(canvas, benchmark) {
            const ctx = canvas.getContext('2d');

            const datasets = [{
                label: benchmark.name,
                data: benchmark.timeSeriesData.map(d => ({
                    x: new Date(d.date),
                    y: d.value
                })),
                borderColor: 'var(--color-chart-3)',
                backgroundColor: 'rgba(16, 185, 129, 0.1)',
                fill: true,
                tension: 0.4,
                pointRadius: 6,
                pointHoverRadius: 8,
                pointBackgroundColor: 'var(--color-chart-3)',
                pointBorderColor: '#fff',
                pointBorderWidth: 2
            }];

            // Add human baseline if exists
            if (benchmark.humanBaseline) {
                datasets.push({
                    label: 'M칛nsklig expertbaslinje',
                    data: [
                        { x: new Date(benchmark.timeSeriesData[0].date), y: benchmark.humanBaseline },
                        { x: new Date(benchmark.timeSeriesData[benchmark.timeSeriesData.length - 1].date), y: benchmark.humanBaseline }
                    ],
                    borderColor: 'var(--color-chart-5)',
                    borderDash: [5, 5],
                    fill: false,
                    pointRadius: 0
                });
            }

            new Chart(ctx, {
                type: 'line',
                data: { datasets },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            type: 'time',
                            time: {
                                unit: 'year'
                            },
                            ticks: { color: 'var(--color-text-secondary)' },
                            grid: { color: 'rgba(255, 255, 255, 0.05)' }
                        },
                        y: {
                            beginAtZero: true,
                            max: benchmark.yAxisMax || 100,
                            reverse: benchmark.invertYAxis || false,
                            title: {
                                display: true,
                                text: benchmark.yAxisLabel,
                                color: 'var(--color-text-secondary)'
                            },
                            ticks: { color: 'var(--color-text-secondary)' },
                            grid: { color: 'rgba(255, 255, 255, 0.05)' }
                        }
                    },
                    plugins: {
                        legend: {
                            display: true,
                            labels: { color: '#e0e0e0' }
                        },
                        tooltip: {
                            callbacks: {
                                label: (context) => {
                                    const point = benchmark.timeSeriesData[context.dataIndex];
                                    if (!point) return context.formattedValue;
                                    return `${point.topModel}: ${point.value}${benchmark.id === 'imagenet' ? '%' : benchmark.id === 'arcagi' || benchmark.id === 'mmlu' || benchmark.id === 'humaneval' ? '%' : ''}`;
                                }
                            }
                        }
                    }
                }
            });
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
